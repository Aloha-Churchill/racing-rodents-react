(this["webpackJsonphamster-react"]=this["webpackJsonphamster-react"]||[]).push([[0],{71:function(e,t,r){},90:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(29),s=r.n(a),i=(r(71),r(15)),o=r.n(i),l=r(22),j=r(11),d=r(101),u=r(97),b=r(62),h=r(100),p=r(58),x=(r(73),r(75),p.a.initializeApp({apiKey:"AIzaSyDK1GYXsfADfa5QbSnoTSH5Hw1N3Dp-aHo",authDomain:"hamsterwheeltracker.firebaseapp.com",databaseURL:"https://hamsterwheeltracker-default-rtdb.firebaseio.com",projectId:"hamsterwheeltracker",storageBucket:"hamsterwheeltracker.appspot.com",messagingSenderId:"395134580216",appId:"1:395134580216:web:5a1a673fdb20039c96d20d",measurementId:"G-CXGTPHS5EV"})),O=x.auth(),f=p.a.database(),m=r(2),g=n.a.createContext();function v(){return Object(c.useContext)(g)}function y(e){var t=e.children,r=Object(c.useState)(),n=Object(j.a)(r,2),a=n[0],s=n[1],i=Object(c.useState)(!0),o=Object(j.a)(i,2),l=o[0],d=o[1];Object(c.useEffect)((function(){return O.onAuthStateChanged((function(e){s(e),d(!1)}))}),[]);var u={currentUser:a,login:function(e,t){return O.signInWithEmailAndPassword(e,t)},createaccount:function(e,t,r){return O.createUserWithEmailAndPassword(e,t).then((function(e){O.onAuthStateChanged((function(e){e&&(e.updateProfile({displayName:r}),console.log(e.displayName),f.ref("Users").child(e.uid),f.ref("Users/"+r).set({total_distance:0,daily_distance:0,average_daily_distance:0,clockwise_distance:0,counterclockwise_distance:0,current_direction:0,current_speed:0,average_speed:0,total_time:0,daily_time:0}))}))}))},logout:function(){return O.signOut()},resetPassword:function(e){return O.sendPasswordResetEmail(e)},updateEmail:function(e){return a.updateEmail(e)},updatePassword:function(e){return a.updatePassword(e)}};return Object(m.jsx)(g.Provider,{value:u,children:!l&&t})}var w=r(12),k=r(17);function L(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),n=Object(c.useRef)(),a=v().createaccount,s=Object(c.useState)(""),i=Object(j.a)(s,2),p=i[0],x=i[1],O=Object(c.useState)(!1),f=Object(j.a)(O,2),g=f[0],y=f[1],L=Object(w.g)();function C(){return(C=Object(l.a)(o.a.mark((function c(s){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s.preventDefault(),t.current.value===r.current.value){c.next=3;break}return c.abrupt("return",x("Passwords do not match"));case 3:return c.prev=3,x(""),y(!0),c.next=8,a(e.current.value,t.current.value,n.current.value);case 8:L.push("/dashboard"),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),x("Account not created");case 14:y(!1);case 15:case"end":return c.stop()}}),c,null,[[3,11]])})))).apply(this,arguments)}return Object(m.jsxs)(d.a,{style:{width:"50%",marginTop:"5%",padding:"5px"},children:[Object(m.jsx)(d.a.Body,{children:Object(m.jsx)("h2",{className:"text-center",children:"Create Account"})}),Object(m.jsxs)(u.a,{onSubmit:function(e){return C.apply(this,arguments)},style:{marginLeft:"30px"},children:[Object(m.jsxs)(u.a.Group,{children:[Object(m.jsx)(u.a.Label,{children:Object(m.jsx)("strong",{children:"Device ID"})}),Object(m.jsx)(u.a.Control,{ref:n,required:!0})]}),Object(m.jsxs)(u.a.Group,{children:[Object(m.jsx)(u.a.Label,{children:Object(m.jsx)("strong",{children:"Email"})}),Object(m.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(m.jsxs)(u.a.Group,{children:[Object(m.jsx)(u.a.Label,{children:Object(m.jsx)("strong",{children:"Password"})}),Object(m.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(m.jsxs)(u.a.Group,{id:"password_confirm",children:[Object(m.jsx)(u.a.Label,{children:Object(m.jsx)("strong",{children:"Confirm Password"})}),Object(m.jsx)(u.a.Control,{type:"password",ref:r,required:!0})]}),Object(m.jsx)(b.a,{disabled:g,type:"submit",style:{padding:"10px",width:"90%",marginTop:"10px",marginLeft:"5px"},children:"Create Account"})]}),Object(m.jsx)("hr",{}),p&&Object(m.jsx)(h.a,{variant:"danger",children:p}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(k.b,{to:"/login",children:"Login here"})})]})}var C=r(96);function S(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=v().login,n=Object(c.useState)(""),a=Object(j.a)(n,2),s=a[0],i=a[1],p=Object(c.useState)(!1),x=Object(j.a)(p,2),O=x[0],f=x[1],g=Object(w.g)();function y(){return(y=Object(l.a)(o.a.mark((function c(n){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,i(""),f(!0),c.next=6,r(e.current.value,t.current.value);case 6:g.push("/dashboard"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),i("Login failed");case 12:f(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(d.a,{style:{width:"50%",marginTop:"5%",padding:"5px"},children:[Object(m.jsx)(d.a.Body,{children:Object(m.jsx)("h2",{className:"text-center",children:"Login"})}),Object(m.jsxs)(u.a,{onSubmit:function(e){return y.apply(this,arguments)},style:{marginLeft:"30px"},children:[Object(m.jsxs)(u.a.Group,{children:[Object(m.jsx)(u.a.Label,{children:Object(m.jsx)("strong",{children:"Email"})}),Object(m.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(m.jsxs)(u.a.Group,{children:[Object(m.jsx)(u.a.Label,{children:Object(m.jsx)("strong",{children:"Password"})}),Object(m.jsx)(u.a.Control,{type:"password",ref:t,required:!0})]}),Object(m.jsx)(b.a,{disabled:O,type:"submit",style:{padding:"10px",width:"90%",marginTop:"10px",marginLeft:"5px"},children:"Login"})]}),Object(m.jsx)("hr",{}),s&&Object(m.jsx)(h.a,{variant:"danger",children:s}),Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)(k.b,{to:"/createaccount",children:"Create account here"}),Object(m.jsx)("br",{}),Object(m.jsx)(k.b,{to:"/forgotpassword",style:{text:"center"},children:"Forgot Password?"})]})]})})}var P=r(54),D=r(64);function _(e){var t=e.component,r=Object(D.a)(e,["component"]),c=v().currentUser;return Object(m.jsx)(w.b,Object(P.a)(Object(P.a)({},r),{},{render:function(e){return c?Object(m.jsx)(t,Object(P.a)({},e)):Object(m.jsx)(w.a,{to:"/login"})}}))}function N(){var e=Object(c.useRef)(),t=v().resetPassword,r=Object(c.useState)(""),n=Object(j.a)(r,2),a=n[0],s=n[1],i=Object(c.useState)(!1),p=Object(j.a)(i,2),x=p[0],O=p[1],f=Object(c.useState)(""),g=Object(j.a)(f,2),y=g[0],w=g[1];function L(){return(L=Object(l.a)(o.a.mark((function r(c){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.prev=1,s(""),w(""),O(!0),r.next=7,t(e.current.value);case 7:w("Check your email to reset password"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),s("Failed to reset password");case 13:O(!1);case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))).apply(this,arguments)}return Object(m.jsxs)(d.a,{style:{width:"50%",marginTop:"5%",padding:"5px"},children:[Object(m.jsx)(d.a.Body,{children:Object(m.jsx)("h2",{className:"text-center",children:"Reset Password"})}),Object(m.jsxs)(u.a,{onSubmit:function(e){return L.apply(this,arguments)},style:{marginLeft:"30px"},children:[Object(m.jsxs)(u.a.Group,{children:[Object(m.jsx)(u.a.Label,{children:Object(m.jsx)("strong",{children:"Email"})}),Object(m.jsx)(u.a.Control,{type:"email",ref:e,required:!0})]}),Object(m.jsx)(b.a,{disabled:x,type:"submit",style:{padding:"10px",width:"90%",marginTop:"10px",marginLeft:"5px"},children:"Reset Password"})]}),Object(m.jsx)("hr",{}),a&&Object(m.jsx)(h.a,{variant:"danger",children:a}),y&&Object(m.jsx)(h.a,{variant:"success",children:y}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(k.b,{to:"/login",children:"Back to Login"})})]})}function R(){var e=Object(c.useRef)(),t=Object(c.useRef)(),r=Object(c.useRef)(),n=v(),a=n.currentUser,s=n.updateEmail,i=n.updatePassword,o=Object(c.useState)(""),l=Object(j.a)(o,2),p=l[0],x=l[1],O=Object(c.useState)(!1),f=Object(j.a)(O,2),g=f[0],y=f[1],L=Object(w.g)();return Object(m.jsxs)(d.a,{style:{width:"50%",marginTop:"5%",padding:"5px"},children:[Object(m.jsx)(d.a.Body,{children:Object(m.jsx)("h2",{className:"text-center",children:"Update Profile"})}),Object(m.jsxs)(u.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==r.current.value)return x("Passwords do not match");var n=[];y(!0),x(""),e.current.value!==a.email&&n.push(s(e.current.value)),t.current.value&&n.push(i(t.current.value)),Promise.all(n).then((function(){L.push("/")})).catch((function(){x("Failed to update account")})).finally((function(){y(!1)}))},style:{marginLeft:"30px"},children:[Object(m.jsxs)(u.a.Group,{id:"email",children:[Object(m.jsx)(u.a.Label,{children:"Email"}),Object(m.jsx)(u.a.Control,{type:"email",ref:e,required:!0,defaultValue:a.email})]}),Object(m.jsxs)(u.a.Group,{id:"password",children:[Object(m.jsx)(u.a.Label,{children:"Password"}),Object(m.jsx)(u.a.Control,{type:"password",ref:t,placeholder:"Leave blank to not change"})]}),Object(m.jsxs)(u.a.Group,{id:"password_confirm",children:[Object(m.jsx)(u.a.Label,{children:"Confirm Password"}),Object(m.jsx)(u.a.Control,{type:"password",ref:r,placeholder:"Leave blank to not change"})]}),Object(m.jsx)(b.a,{disabled:g,type:"submit",style:{padding:"10px",width:"90%",marginTop:"10px",marginLeft:"5px"},children:"Update Profile"})]}),Object(m.jsx)("hr",{}),p&&Object(m.jsx)(h.a,{variant:"danger",children:p}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(k.b,{to:"/",children:"Cancel"})})]})}function T(){return Object(m.jsxs)("div",{class:"container rounded my-3 bg-light pt-4",children:[Object(m.jsx)("h1",{class:"text-center",style:{padding:"10px"},children:"Welcome to Racing Rodents!"}),Object(m.jsx)("hr",{}),Object(m.jsx)("h3",{children:"The SmartWheel"}),Object(m.jsx)("p",{children:"The smart wheel is designed to track your pet's distance while using their wheel."})]})}var E=r(99),U=r(98);function G(){return Object(m.jsxs)(E.a,{bg:"light",expand:"lg",style:{paddingLeft:"20px"},children:[Object(m.jsx)(E.a.Brand,{href:"/",children:"Home"}),Object(m.jsx)(U.a.Link,{href:"/login",children:"Login"}),Object(m.jsx)(U.a.Link,{href:"/createaccount",children:"Create Account"}),Object(m.jsx)(U.a.Link,{href:"/dashboard",children:"Dashboard"}),Object(m.jsx)(U.a.Link,{href:"/profile",children:"Profile"})]})}function A(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),r=t[0],n=t[1],a=v(),s=a.currentUser,i=a.logout,d=Object(w.g)();function u(){return(u=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(""),e.prev=1,e.next=4,i();case 4:d.pushState("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n("Failed to logout");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(m.jsxs)("div",{class:"container rounded my-3 bg-light pt-4",children:[Object(m.jsx)("h1",{class:"text-center",style:{padding:"10px"},children:"Your Account"}),r&&Object(m.jsx)(h.a,{variant:"danger",children:r}),Object(m.jsxs)("p",{style:{marginLeft:"25px"},children:[Object(m.jsx)("strong",{children:"Email:"})," ",s.email]}),Object(m.jsxs)("div",{style:{marginBottom:"30px"},children:[Object(m.jsx)(k.b,{to:"/updateprofile",className:"btn btn-primary",style:{marginLeft:"20px"},children:"Update Profile"}),Object(m.jsx)(b.a,{type:"submit",onClick:function(){return u.apply(this,arguments)},style:{marginLeft:"20px"},children:"Logout"})]})]})}var F=r(95),I=r(66),B=3.14159265;function q(){var e=v(),t=e.currentUser,r=e.logout,n=Object(c.useState)(0),a=Object(j.a)(n,2),s=a[0],i=a[1],d=Object(w.g)(),u=Object(c.useState)(""),p=Object(j.a)(u,2),x=p[0],O=p[1],g=Object(c.useState)(.01),y=Object(j.a)(g,2),L=y[0],C=y[1];function S(){return(S=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(""),e.prev=1,e.next=4,r();case 4:d.pushState("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O("Failed to logout");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function P(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){var e=f.ref("Users");return e.on("value",(function(e){var r=e.val()[t.displayName];i(r)})),function(){return e.off()}}),[t.displayName]),Object(m.jsxs)("div",{class:"container rounded my-3 bg-light pt-4",children:[Object(m.jsx)("h1",{class:"text-center",children:"Dashboard"}),x&&Object(m.jsx)(h.a,{variant:"danger",children:x}),Object(m.jsx)("div",{children:Object(m.jsxs)(F.a,{id:"dropdown-basic-button",title:"Change Units",children:[Object(m.jsx)(I.a.Item,{onClick:function(){return P(62137119224e-16)},children:"Miles"}),Object(m.jsx)(I.a.Item,{onClick:function(){return P(1e-5)},children:"Kilometers"}),Object(m.jsx)(I.a.Item,{onClick:function(){return P(.0328084)},children:"Feet"}),Object(m.jsx)(I.a.Item,{onClick:function(){return P(.01)},children:"Meters"})]})}),Object(m.jsxs)("table",{class:"table table-bordered",style:{marginTop:"20px"},children:[Object(m.jsx)("thead",{class:"thead-light",children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",children:"Daily Distance"}),Object(m.jsx)("th",{scope:"col",children:"Total Distance"}),Object(m.jsx)("th",{scope:"col",children:"Total Clockwise Distance"}),Object(m.jsx)("th",{scope:"col",children:"Total Counterclockwise Distance"})]})}),Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row",children:(s.daily_distance*B*5/10*L).toFixed(3)}),Object(m.jsx)("td",{children:(s.total_distance*B*5/10*L).toFixed(3)}),Object(m.jsx)("td",{children:(s.clockwise_distance*B*5/10*L).toFixed(3)}),Object(m.jsx)("td",{children:(s.counterclockwise_distance*B*5/10*L).toFixed(3)})]})})]}),Object(m.jsxs)("div",{style:{marginBottom:"30px"},children:[Object(m.jsx)(k.b,{to:"/updateprofile",className:"btn btn-primary",children:"Update Profile"}),Object(m.jsx)(b.a,{type:"submit",onClick:function(){return S.apply(this,arguments)},style:{marginLeft:"20px"},children:"Logout"})]})]})}var H=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(G,{}),Object(m.jsx)(C.a,{className:"d-flex align-items-center justify-content-center",children:Object(m.jsx)(k.a,{children:Object(m.jsx)(y,{children:Object(m.jsxs)(w.d,{children:[Object(m.jsx)(w.b,{exact:!0,path:"/",component:T}),Object(m.jsx)(_,{path:"/updateprofile",component:R}),Object(m.jsx)(w.b,{path:"/createaccount",component:L}),Object(m.jsx)(w.b,{path:"/login",component:S}),Object(m.jsx)(w.b,{path:"/forgotpassword",component:N}),Object(m.jsx)(_,{path:"/profile",component:A}),Object(m.jsx)(_,{path:"/dashboard",component:q})]})})})})]})};r(89);s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(H,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.d13c4453.chunk.js.map